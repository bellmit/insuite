#!/bin/bash
# 
# Licence relevant information from all STS customers.
mongo_script="mm_analysis.js"

echo "script to copy $mongo_script to a remote host and run it."

function execRemote {

    ssh_host=$1

    #echo "Copying file $mongo_script to $ssh_host..."
    dc-datensafe-scp-to $ssh_host $mongo_script

    #echo "Executing mongo query, output to $ssh_host-$output_file..."
    sudo -H -u supporter ssh root@$ssh_host.hub "dc-mongo --quiet  0 /mnt/dc-storage/incoming/$mongo_script"
}

# MTS
#  script....??
# DCMPD3FFZB
# 7YSDFV2
# 6C1N5T2
# alias | grep mts | cut -f 7 -d ' ' | cut -f 1 -d "." | cut -f 2 -d "@" | xargs -n 1 -I JJJJ echo "execRemote 'JJJJ'"
#execRemoteMTS '41BKYQ2'
#execRemoteMTS '6C1N5T2'
#execRemoteMTS '7YSDFV2'
#execRemoteMTS 'DCM3INJ507'
#execRemoteMTS 'DCM2QZJAAKWQA'
#execRemoteMTS 'DCMPD3FFZB'


# STS
# alias | grep login | cut -f 3 -d ' ' | cut -f 1 -d "'" | xargs -n 1 -I JJJJ echo "execRemote 'JJJJ'"

execRemote 'DC1M852Z'
execRemote 'CZ1541023R'
execRemote '7CE829U08G'
execRemote 'CZ15420069'
execRemote '7CE805P0RB'
execRemote 'DCM5ETJXQQ'
execRemote '7CE817P35E'
execRemote '7CE735P00F'
execRemote 'CZ164801H0'
execRemote 'CZ164900R9'
execRemote 'CZ1541022B'
execRemote '7CE735P05R'
execRemote 'CMHW2T2'
execRemote 'CZ143701LB'
execRemote 'CZ1541022K'
execRemote '7CE728P0PK'
execRemote 'CZ17230055'
execRemote 'CZ1542006A'
execRemote 'CZ143701L9'
execRemote 'DC1M6N4G'
execRemote '7CE852P0N2'
execRemote 'CZ154101J8'
execRemote 'CZ1541022H'
execRemote '7CE819U072'
execRemote '7CE728P0NS'
execRemote 'CZ171201D8'
execRemote '7CE828P0U3'
execRemote '7CE735P06N'
execRemote '7CE735P056'
execRemote 'CZ1651011L'
execRemote 'CZ1651012D'
execRemote 'CZ15420065'
execRemote 'C2BQ7J2'
execRemote 'DCMCHTRIAL'
execRemote 'DCMBF6AONA7'
execRemote 'DCMK2VKMTY'
execRemote 'CZ154101HW'
execRemote 'FWLVXK2'
execRemote 'FWRTXK2'
execRemote '7CE735P00R'
execRemote 'HJ7C2J2'
execRemote 'CZ16510127'
execRemote 'CZ171202FD'
execRemote 'CZ171202B8'
execRemote 'CZ171202DD'
execRemote 'CZ171202JE'
execRemote 'CZ171202J4'
execRemote 'CZ154101BL'
execRemote '7CE834P3VA'
execRemote '7CE819U03R'
execRemote 'DCM30YCLNS'
execRemote 'CZ154101HY'
execRemote '5C7351P4VD'
execRemote '1GC2JN2'
execRemote 'CZ164802AM'
execRemote '55PFMV2'
execRemote 'FVZFDP2'
execRemote 'CZ164801UW'
execRemote '6M4GFV2'
execRemote 'DC1DF2Z8'
execRemote '46LNYJ2'
execRemote 'CZ152000MW'
execRemote 'DC1DJNUC'
execRemote 'DCMFKDTNQ9'
execRemote '7CE852P0SW'
execRemote 'CZ171202E8'
execRemote 'DC1DJ63A'
execRemote '7CE852P0NC'
execRemote 'DC1M9BMN'
execRemote 'CZ16510129'
execRemote 'CZ171202CM'
execRemote 'CZ154101J2'
execRemote '7CE728P0RP'
execRemote 'CZ154101H9'
execRemote 'CZ171202MK'
execRemote '4114BR2'
execRemote '7CE735P011'
execRemote '4111BR2'
execRemote '7CE852P0SY'
execRemote '7CE817P2UY'
execRemote 'DC1DJLNY'
execRemote 'DC1DJ7JP'
execRemote 'DCMUAIZP26'
execRemote 'DCMZKECO5F'
execRemote '6K4B8P2'
execRemote '6KBB8P2'
execRemote 'CZ1520010P'
execRemote 'CZ172301UM'
execRemote 'CZ152000SM'
execRemote 'DC1DK9W7'
execRemote 'DC1D9H5M'
execRemote 'CZ1648025Z'
execRemote 'HSQV2T2'
execRemote '7CE817P2SE'
execRemote 'DC1M81PD'
execRemote 'CZ143701KT'
execRemote 'CZ143701LN'
execRemote 'CZ143701LZ'
execRemote 'DC1DF7GK'
execRemote 'DCMDAZ3YEK'
execRemote 'CZ15410241'
execRemote 'CZ15420066'
execRemote 'CZ1541022E'
execRemote '7CE852P0MX'
execRemote 'CZ154101CR'
execRemote '7CE852P0MM'
execRemote '2X7V2T2'
execRemote 'CZ164801W8'
execRemote 'JBYQJG2'
execRemote 'JBYSG62'
execRemote '7CE819U05Y'
execRemote '2X4Q2T2'
execRemote 'CZ16510125'
execRemote 'CZ143701KW'
execRemote 'CZ171202B9'
execRemote 'DCMUOYH0JY'
execRemote 'CZ170602YR'
execRemote 'DC1M76B9'
execRemote '7CE729P17M'
execRemote 'CZ1707009A'
execRemote 'CZ172301LZ'
execRemote '29SGXJ2'
execRemote 'CZ1541023M'
execRemote '2H0V4R2'
execRemote '7CE805P0MZ'
execRemote '7CE805P111'
execRemote 'CZ152000MP'
execRemote 'CZ171202EV'
execRemote '7CE824U06K'
execRemote 'CZ154101BW'
execRemote 'CZ15420068'
execRemote 'DCMPUCZEWQK8G'
execRemote '7CE852P0M3'
execRemote '7CE838P31X'
execRemote '7CE824U05X'
execRemote '7CE805P0SU'
execRemote 'DCMGBRKV2C'
execRemote '7CE852P0N1'
execRemote 'DC1MCDAY'
execRemote 'DC1MK7ZG'
execRemote 'DC1MJT49'
execRemote 'DC1MQGFC'
execRemote 'CZ171202CN'
execRemote 'CZ152000Y1'
execRemote '7CE728P3ND'
execRemote 'DC1MPMFV'
execRemote '834TNR2'
execRemote 'CZ1541024A'
execRemote '364DLV2'
execRemote '7CE852P0RV'
execRemote '7CE728P0PX'
execRemote 'CZ1541024B'
execRemote '367DFV2'
execRemote '14YS7J2'
execRemote 'CZ154101J7'
execRemote 'CZ171202N4'
execRemote '7CE817P2YX'
execRemote 'FJKXGL2'
execRemote '7CE805P0RX'
execRemote '7XTV2S2'
execRemote '7CE831P13L'
execRemote '8K6R2S2'
execRemote 'CZ1720004F'
execRemote 'CZ172301X3'
execRemote 'DCM6NNZDLD'
execRemote 'CZ1723004Z'
execRemote 'CZ1723004W'
execRemote '7CE831P15M'
execRemote 'CZ1541021S'
execRemote 'CZ1723020D'
execRemote 'CZ171202FG'
execRemote 'CZ17200027'
execRemote 'CZ1723025S'
execRemote 'CZ164900FR'
execRemote 'CZ171901L3'
execRemote '7CE723P0YS'
execRemote 'CZ154101HV'
execRemote '7CE922P0DW'
execRemote '63NR2T2'
execRemote 'CZ17030067'
execRemote 'CZ171500T1'
execRemote '7CE828P0VF'
execRemote '7CE819U08W'
execRemote 'CZ172301YR'
execRemote '7CE817P2YU'
execRemote '7CE729P170'
execRemote '7CE828P0XX'
execRemote 'CZ171202J9'
execRemote 'CZ17230050'
execRemote 'CZ165100PS'
execRemote 'CZ172301J4'
execRemote '7CE831P17V'
execRemote 'DC1DFHA6'
execRemote 'DCMGSMH3HC'
execRemote 'DCMSVDC8GP'
execRemote 'CZ17030068'
execRemote 'CZ154101JD'
execRemote 'CZ1716002L'
execRemote 'CZ1542006F'
execRemote 'CZ17230024'
execRemote 'CZ1703006A'
execRemote 'CZ171501AS'
execRemote 'CZ1703006D'
execRemote 'DCMVIPE0HS'
execRemote 'DCMULB0IDR'
execRemote 'CZ1542006E'
execRemote '7CE831P18G'
execRemote '7CE827U01K'
execRemote 'CZ172301UP'
execRemote 'CZ172301UK'
execRemote 'CZ171202JF'
execRemote 'CZ1725019W'
execRemote 'B6X5SP2'
execRemote '7CE831P15S'
execRemote 'JLNVJG2'
execRemote '7CE838P312'
execRemote '7CE852P0MD'
execRemote '7CE828P0X7'
execRemote '7CE828P0NC'
execRemote '7CE824U01W'
execRemote 'CZ17070097'
execRemote 'CZ143701KM'
execRemote 'CZ172301P7'
execRemote '79FSSM2'
execRemote '6NK4MM2'
execRemote '7CE827U01W'
execRemote '8TFTHP2'
execRemote '7CE827U076'
execRemote '7CE829U07N'
execRemote 'CZ170602N5'
execRemote 'DCMQ1IQT46UXR'
execRemote '7CE831P19V'
execRemote '7CE735P00M'
execRemote 'CZ154101BY'
execRemote 'CZ152000XB'
execRemote 'CZ154101HZ'
execRemote 'CZ164900RD'
execRemote 'JMFRJD2'
execRemote '7CE852P0R5'
execRemote 'CZ143701KV'
execRemote 'CZ264202X9'
execRemote 'CZ154101JS'
execRemote 'CZ1541022F'
execRemote '7CE852P0N9'
execRemote 'CZ1520010S'
execRemote 'DC1D9BNP'
execRemote 'CZ1723003K'
execRemote 'DC1DVEZU'
execRemote 'DCMC2HLUUO'
execRemote 'CZ154101BN'
execRemote 'DCMTRAINING'
execRemote 'CZ171202CR'
execRemote 'CZ143701L5'
execRemote '7XVR2S2'
execRemote 'DCM0XTS3WH'
execRemote 'DC1MLZMP'
execRemote '7CE805P0Y8'
execRemote 'CZ1542006C'
execRemote '7CE852P0R0'
execRemote '7CE805P0MT'
execRemote 'HSQT2T2'
execRemote 'CZ154101C2'
execRemote 'CZ1541023E'
execRemote 'CZ1723005E'
execRemote 'CZ171202N1'
execRemote 'CZ154101BJ'
execRemote 'CZ164802E5'
execRemote '7CE728P0P4'
execRemote 'CZ154101BX'
execRemote 'CZ143701MT'
execRemote 'DC1MJNWN'
execRemote '7CE805P0NK'

